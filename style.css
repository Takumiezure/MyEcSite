<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DTFNTR - 目黒のアンティーク家具専門店</title>
  <link rel="icon" href="favicon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <di class="name"><img src="logo.png" width="252" height="72"</di>
  <nav>
    <ul>
      <li><a href="all">ALL</a></li>
      <li><a href="#new">NEW</a></li>
      <li><a href="#vintage">Vintage</a></li>
      <li><a href="#category">Category</a></li>
      <li><a href="#lookbook">Lookbook</a></li>
    </ul>
    <ul class="info">
      <li><a href="#login">Login</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>
</header>
<main>
  <img src="YAT923_1_TP_V.jpg" width="800" height="531" class="main-img">

  <section class="text">
  <div>
  <h2>Features of DTFNTR's Products</h2>
  <p>テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト</p>
 </div>
 </section>
 <section class="product-img">
  <ul>
    <nav>
    <div class="img-product">
    <li><a href="#product-1"><img src="product-1.png" width="300" height="300"></a>
    <div class="text-product">
    <h3>イス</h3>
    <p>3,000円</p>
    </div>
    </li>
    <li><a href="#product-2"><img src="product-2.png" width="300" height="300"></a>
    <div class="text-product">
    <h3>イス2</h3>
    <p>4,000円</p>
    </div>
    </li>
    </div>
    <div class="img-product">
    <li><a href="#product-3"><img src="product-3.png" width="300" height="300"></a>
    <div class="text-product">
    <h3>ライト</h3>
    <p>4,000円</p>
    </div>
   </li>
    <li><a href="#product-4"><img src="product-4.png" width="300" height="300"></a>
    <div class="text-product">
    <h3>ソファー</h3>
    <p>7,000円</p>
    </div>
    </li>
    </div>
  </ul>
  </nav>
</section>
<section class="table">
  <table>
    <thead>
      <tr><th>商品名</th><th>価格</th></tr>
    </thead>
    <tbody id="items">
      <tr><td>合計 (送料込)</td><td><span id="total">0</span>円</td></tr>
    </tbody>
  </table>
  <p>
    ※ 税込価格、送料350円は5,000円以上で無料
  </p>
  <script>
    // 合計金額を0で初期化
    let total = 0;
    // 送料を定義するための変数
    let shipping;
    // HTMLからitemsというIDを持つテーブル要素を取得
    const table = document.getElementById('items');
    // HTMLからtotalというIDを持つspan要素を取得
    const totalSpan = document.getElementById('total');
    // 商品データを格納した配列
    const items = [
      {name: 'イス', price: 3000},
      {name: 'ライト', price: 4000},
       {name: 'イス２', price: 4000},
      {name: 'ソファー', price: 7000},
    ];
    
    // すべての商品データに対して処理を行う
    items.forEach((item) => {
      // 新しいtr要素を作成
      const tr = document.createElement('tr');
      // 新しいtd要素を作成
      const nameTd = document.createElement('td');
      // 商品名のテキストを作成
      const nameText = document.createTextNode(item.name);
      // チェックボックスを作成
      const checkbox = document.createElement('input');
      // チェックボックスのタイプを設定
      checkbox.type = "checkbox";
      // チェックボックスがチェックされたときの処理
      checkbox.addEventListener('change', () => {
        // チェックされている場合、合計金額を加算
        if (checkbox.checked) {
          total += Number(item.price);
        } else {
          // チェックされていない場合、合計金額から減算
          total -= Number(item.price);
        }
        // 合計金額が5000以上または0の場合、送料は0
        if (total >= 5000 || total === 0) {
          shipping = 0;
        } else {
          // それ以外の場合、送料は350
          shipping = 350;
        }
        // 合計金額と送料を加算し、totalSpanに表示
        totalSpan.textContent = (total + shipping).toLocaleString();
      });
      // 新しいtd要素を作成
      const priceTd = document.createElement('td');
      // 価格をテキストとしてtd要素に追加
      priceTd.textContent = item.price.toLocaleString() + '円';
      // td要素にチェックボックスと商品名を追加
      nameTd.appendChild(checkbox);
      nameTd.appendChild(nameText);
      // tr要素に商品名のtd要素と価格のtd要素を追加
      tr.appendChild(nameTd);
      tr.appendChild(priceTd);
      // tr要素をテーブルの最後の行の前に挿入
      table.insertBefore(tr, table.rows[table.rows.length - 1]);
    });
  </script>
  <a href="#" class="cartbtn">ADD TO CART</a>
</section>
</main>
<footer>
  <small>(C) DTFNTR.com</small>
</footer>
</body>
</html>
